<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EchoEngBot</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <h1>ðŸ¤– EchoEngBot</h1>

        <div id="chatControls" class="chat-controls">
            <div class="chat-controls__db">
                <button onclick="openKnowledgeModal()">Show Knowledge Base</button>
                <button id="settingsDB" onclick="showSettingsDB()"><span>&#9881</span></button>
            </div>
            <button id="clearHistoryBtn" onclick="clearHistory()">Clear history</button>
        </div>
        
        <div id="chatHistory" class="chat-history"></div>

        <div class="input-group">
            <input type="text" id="messageInput" placeholder="Enter your phrase...">
            <button class="ask-btn" onclick="askBot()">Ask</button>
        </div>

        <div class="teach-section">
            <span class="teach-section__close" onclick="showSettingsDB()">close</span>
            <button onclick="showModal('teachModal')">Teach the bot</button>
            <button onclick="showModal('editModal')">Edit answer</button>
            <button onclick="showModal('deleteModal')">Delete phrase/answer</button>
            <button onclick="showModal('synonymModal')">Add synonym</button>
            <button onclick="showModal('editSynonymModal')">Edit synonym</button>
            <button onclick="showModal('deleteSynonymModal')">Delete synonym</button>
        </div>
    </div>

    <div id="knowledgeModal" class="modal">
        <div class="modal-content" style="max-height: 90vh; overflow-y: auto;">
            <span class="close" onclick="closeModal('knowledgeModal')">&times;</span>
            <h2>Knowledge Base</h2>
            <input type="text" id="knowledgeSearch" placeholder="Search...">
            <div id="knowledgeList" style="text-align: left; font-size: 14px;"></div>
        </div>
    </div>
    <div id="teachModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('teachModal')">&times;</span>
            <h2>Teach the bot</h2>
            <input type="text" id="teachPhrase" placeholder="Phrase">
            <input type="text" id="teachAnswer" placeholder="Answer">
            <button onclick="teachBot()">Save</button>
            <div id="teachResponse" class="response"></div>
        </div>
    </div>
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('editModal')">&times;</span>
            <h2>Edit bot's answer</h2>
            <input type="text" id="editPhrase" placeholder="Phrase">
            <input type="text" id="editOldAnswer" placeholder="Old answer">
            <input type="text" id="editNewAnswer" placeholder="New answer">
            <button onclick="editBotAnswer()">Edit</button>
            <div id="editResponse" class="response"></div>
        </div>
    </div>
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('deleteModal')">&times;</span>
            <h2>Delete from bot</h2>
            <input type="text" id="deletePhrase" placeholder="Phrase">
            <input type="text" id="deleteAnswer" placeholder="(Optional) Specific answer to delete">
            <button onclick="deleteFromBot()">Delete</button>
            <div id="deleteResponse" class="response"></div>
        </div>
    </div>
    <div id="synonymModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('synonymModal')">&times;</span>
            <h2>Add Synonym</h2>
            <input type="text" id="mainPhrase" placeholder="Main phrase">
            <input type="text" id="newSynonym" placeholder="Synonym">
            <button onclick="addSynonym()">Add</button>
            <div id="synonymResponse" class="response"></div>
        </div>
    </div>
    <div id="editSynonymModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('editSynonymModal')">&times;</span>
            <h2>Edit Synonym</h2>
            <input type="text" id="editSynMain" placeholder="Main phrase">
            <input type="text" id="editSynOld" placeholder="Old synonym">
            <input type="text" id="editSynNew" placeholder="New synonym">
            <button onclick="editSynonym()">Save</button>
            <div id="editSynResponse" class="response"></div>
        </div>
    </div>
    <div id="deleteSynonymModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('deleteSynonymModal')">&times;</span>
            <h2>Delete Synonym</h2>
            <input type="text" id="deleteSynMain" placeholder="Main phrase">
            <input type="text" id="deleteSynOne" placeholder="(Optional) Synonym to delete">
            <button onclick="deleteSynonym()">Delete</button>
            <div id="deleteSynResponse" class="response"></div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>